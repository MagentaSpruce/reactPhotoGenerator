{"version":3,"sources":["Photo.js","App.js","index.js"],"names":["Photo","regular","urls","alt_description","likes","user","name","portfolio_url","medium","profile_image","className","src","alt","href","clientID","process","App","useState","loading","setLoading","photos","setPhotos","page","setPage","query","setQuery","fetchImages","a","urlPage","urlQuery","url","fetch","response","json","data","console","log","oldPhotos","results","useEffect","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","oldPage","removeEventListener","type","placeholder","value","onChange","e","target","onClick","preventDefault","map","image","key","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"6PA4BeA,EA1BD,SAAC,GASR,IARGC,EAQJ,EARJC,KAAQD,QACRE,EAOI,EAPJA,gBACAC,EAMI,EANJA,MAMI,IALJC,KACEC,EAIE,EAJFA,KACAC,EAGE,EAHFA,cACiBC,EAEf,EAFFC,cAAiBD,OAGnB,OACE,6BAASE,UAAU,SACjB,yBAAKC,IAAKV,EAASW,IAAKT,IACxB,yBAAKO,UAAU,cACb,yBAAKA,UAAU,IACb,4BAAKJ,GACL,2BAAIF,IAEN,uBAAGS,KAAMN,GACP,yBAAKI,IAAKH,EAAQI,IAAKN,EAAMI,UAAU,iBCf3CI,EAAQ,qBAAiBC,+CAiGhBC,MA/Ff,WAAgB,IAAD,EACiBC,oBAAS,GAD1B,mBACNC,EADM,KACGC,EADH,OAEeF,mBAAS,IAFxB,mBAENG,EAFM,KAEEC,EAFF,OAGWJ,mBAAS,GAHpB,mBAGNK,EAHM,KAGAC,EAHA,OAIaN,mBAAS,IAJtB,mBAINO,EAJM,KAICC,EAJD,KAKPC,EAAW,uCAAG,oCAAAC,EAAA,6DAClBR,GAAW,GAGLS,EAJY,gBAION,GACnBO,EALY,iBAKSL,GAGzBM,EADEN,EACC,UAhBM,2CAgBN,OAAkBV,GAAlB,OAA6Bc,GAA7B,OAAuCC,GAEvC,UAnBI,oCAmBJ,OAAgBf,GAAhB,OAA2Bc,GAVd,kBAaOG,MAAMD,GAbb,cAaVE,EAbU,iBAcGA,EAASC,OAdZ,QAcVC,EAdU,OAehBC,QAAQC,IAAIF,GAEZb,GAAU,SAACgB,GACT,OAAIb,GAAkB,IAATF,EACJY,EAAKI,QAEN,GAAN,mBAAWD,GADFb,EACT,YAAyBU,EAAKI,SAE9B,YAAyBJ,OAG7Bf,GAAW,GA1BK,kDA4BhBgB,QAAQC,IAAR,MACAjB,GAAW,GA7BK,0DAAH,qDA0DjB,OAzBAoB,qBAAU,WACRb,MACC,CAACJ,IAEJiB,qBAAU,WACR,IAAMC,EAAQC,OAAOC,iBAAiB,UAAU,YAK3CxB,GACDuB,OAAOE,YAAcF,OAAOG,SAAWC,SAASC,KAAKC,aAAe,GAEpExB,GAAQ,SAACyB,GACP,OAAOA,EAAU,QAIvB,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAUT,MACjD,IAOD,8BACE,6BAAS9B,UAAU,UACjB,0BAAMA,UAAU,eACd,2BACEwC,KAAK,OACLC,YAAY,SACZzC,UAAU,aACV0C,MAAO5B,EACP6B,SAAU,SAACC,GACT7B,EAAS6B,EAAEC,OAAOH,UAGtB,4BAAQF,KAAK,SAASxC,UAAU,aAAa8C,QAjBhC,SAACF,GACpBA,EAAEG,iBACFlC,EAAQ,KAgBA,kBAAC,IAAD,SAIN,6BAASb,UAAU,UACjB,yBAAKA,UAAU,iBACZU,EAAOsC,KAAI,SAACC,GAGX,OAFAxB,QAAQC,IAAIuB,GAEL,kBAAC,EAAD,eAAOC,IAAKD,EAAME,IAAQF,QAGpCzC,GAAW,wBAAIR,UAAU,WAAd,iBC5FpBoD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFnB,SAASoB,eAAe,W","file":"static/js/main.4a27edc3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Photo = ({\r\n  urls: { regular },\r\n  alt_description,\r\n  likes,\r\n  user: {\r\n    name,\r\n    portfolio_url,\r\n    profile_image: { medium },\r\n  },\r\n}) => {\r\n  return (\r\n    <article className=\"photo\">\r\n      <img src={regular} alt={alt_description} />\r\n      <div className=\"photo-info\">\r\n        <div className=\"\">\r\n          <h4>{name}</h4>\r\n          <p>{likes}</p>\r\n        </div>\r\n        <a href={portfolio_url}>\r\n          <img src={medium} alt={name} className=\"user-img\" />\r\n        </a>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Photo;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\nimport Photo from \"./Photo\";\r\n\r\nconst mainUrl = `https://api.unsplash.com/photos/`;\r\nconst searchUrl = `https://api.unsplash.com/search/photos/`;\r\nconst clientID = `?client_id=${process.env.REACT_APP_PUBLIC_KEY}`;\r\n\r\nfunction App() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [photos, setPhotos] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [query, setQuery] = useState(\"\");\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n\r\n    let url;\r\n    const urlPage = `&page=${page}`;\r\n    const urlQuery = `&query=${query}`;\r\n\r\n    if (query) {\r\n      url = `${searchUrl}${clientID}${urlPage}${urlQuery}`;\r\n    } else {\r\n      url = `${mainUrl}${clientID}${urlPage}`;\r\n    }\r\n    try {\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      console.log(data);\r\n\r\n      setPhotos((oldPhotos) => {\r\n        if (query && page === 1) {\r\n          return data.results;\r\n        } else if (query) {\r\n          return [...oldPhotos, ...data.results];\r\n        } else {\r\n          return [...oldPhotos, ...data];\r\n        }\r\n      });\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchImages();\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    const event = window.addEventListener(\"scroll\", () => {\r\n      // console.log(`innerHeight ${window.innerHeight}`);\r\n      // console.log(`scrollY ${window.scrollY}`);\r\n      // console.log(`body height ${document.body.scrollHeight}`);\r\n      if (\r\n        !loading &&\r\n        window.innerHeight + window.scrollY >= document.body.scrollHeight - 4\r\n      ) {\r\n        setPage((oldPage) => {\r\n          return oldPage + 1;\r\n        });\r\n      }\r\n    });\r\n    return () => window.removeEventListener(\"scroll\", event);\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setPage(1);\r\n  };\r\n  return (\r\n    <main>\r\n      <section className=\"search\">\r\n        <form className=\"search-form\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"search\"\r\n            className=\"form-input\"\r\n            value={query}\r\n            onChange={(e) => {\r\n              setQuery(e.target.value);\r\n            }}\r\n          />\r\n          <button type=\"submit\" className=\"submit-btn\" onClick={handleSubmit}>\r\n            <FaSearch />\r\n          </button>\r\n        </form>\r\n      </section>\r\n      <section className=\"photos\">\r\n        <div className=\"photos-center\">\r\n          {photos.map((image) => {\r\n            console.log(image);\r\n\r\n            return <Photo key={image.id} {...image} />;\r\n          })}\r\n        </div>\r\n        {loading && <h2 className=\"loading\">Loading...</h2>}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}